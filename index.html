<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="n8n Landing - Automate Workflows im Neon-Style!" name="description"/>
  <title>n8n Landingpage - Neon Darkmode</title>
  <link href="assets/css/style.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet"/>
  <style>
    /* Three.js Canvas Background Styling */
    #threejs-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -2;
      background: #000;
    }
    /* Dark overlay for better contrast */
    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: -1;
      pointer-events: none;
    }
    /* Ensure body is transparent to show background */
    body {
      margin: 0;
      background: transparent;
      position: relative;
      overflow-x: hidden;
      transition: opacity 0.6s ease-in-out; /* remove transform-based rotation to avoid mirroring */
    }
    /* Light mode styles */
    body.light-mode { background: #f0f0f0; }
    body.light-mode::after { background: rgba(255, 255, 255, 0.7); }
    body.light-mode nav { background: rgba(255, 255, 255, 0.9) !important; border-bottom: 2px solid #00CED1 !important; }
    body.light-mode nav a,
    body.light-mode nav button { color: #00CED1 !important; border-color: #00CED1 !important; }
    body.light-mode nav a:hover,
    body.light-mode nav button:hover { background: #00CED1 !important; color: #fff !important; box-shadow: 0 0 15px #00CED1 !important; }
    body.light-mode main h1 { color: #00CED1 !important; text-shadow: 0 0 10px #00CED1 !important; }
    body.light-mode main p { color: #333 !important; }
    /* Remove rotateY animations entirely to prevent mirrored content */
    /* Previously defined rotateYIn/rotateYOut and .rotating-* classes removed */
    /* Responsive Navigation Menu Styles */
    nav {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 15px;
      padding: 20px 10px;
      background: rgba(0, 0, 0, 0.8);
      border-bottom: 2px solid #FF0080;
    }
    nav a, nav button {
      color: #FF0080;
      text-decoration: none;
      padding: 10px 20px;
      border: 2px solid #FF0080;
      border-radius: 5px;
      transition: all 0.3s ease;
      font-size: 16px;
      white-space: nowrap;
      background: transparent;
      cursor: pointer;
      font-family: 'Orbitron', sans-serif;
    }
    nav a:hover, nav button:hover { background: #FF0080; color: #000; box-shadow: 0 0 15px #FF0080; }
    @media (max-width: 768px) {
      nav { flex-direction: column; gap: 10px; }
      nav a, nav button { width: 90%; text-align: center; }
    }
    main { text-align: center; padding: 50px 20px; position: relative; z-index: 1; }
    main h1 { font-size: 3em; color: #FF0080; text-shadow: 0 0 20px #FF0080; margin-bottom: 20px; font-family: 'Orbitron', sans-serif; }
    main p { font-size: 1.2em; color: #fff; font-family: 'Roboto', sans-serif; margin-bottom: 30px; }
    #n8n-container { display: none; flex-direction: column; justify-content: flex-start; align-items: center; padding: 20px; position: relative; z-index: 1; }
    #n8n-frame { border: 2px solid #FF0080; border-radius: 10px; box-shadow: 0 0 30px #FF0080; width: 1200px; height: 800px; transition: all 0.3s ease; }
    #resize-controls { display: none; flex-direction: column; gap: 20px; margin-bottom: 20px; padding: 20px; background: rgba(0, 0, 0, 0.7); border: 2px solid #FF0080; border-radius: 10px; }
    .slider-container { display: flex; flex-direction: column; gap: 10px; }
    .slider-container label { color: #FF0080; font-size: 1em; font-family: 'Orbitron', sans-serif; }
    .slider-container input[type="range"] { width: 300px; height: 8px; border-radius: 5px; background: rgba(255, 0, 128, 0.3); outline: none; -webkit-appearance: none; }
    .slider-container input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; border-radius: 50%; background: #FF0080; cursor: pointer; box-shadow: 0 0 10px #FF0080; }
    .slider-container input[type="range"]::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: #FF0080; cursor: pointer; box-shadow: 0 0 10px #FF0080; border: none; }
    .slider-container span { color: #00FFFF; font-size: 1em; font-family: 'Roboto', sans-serif; }
  </style>
</head>
<body>
  <canvas id="threejs-canvas"></canvas>
  <nav>
    <a href="#landing-container">Home</a>
    <button id="theme-toggle">Toggle Theme</button>
    <button id="admin-btn">n8n Admin</button>
    <button id="back-btn" style="display: none;">Back</button>
  </nav>
  <div id="landing-container">
    <main>
      <h1>Welcome to n8n Landing</h1>
      <p>Automate your workflows with style!</p>
    </main>
  </div>
  <div id="n8n-container">
    <div id="resize-controls">
      <div class="slider-container">
        <label for="iframe-size">Iframe Height: <span id="iframe-size-value">800px</span></label>
        <input type="range" id="iframe-size" min="400" max="1200" value="800"/>
      </div>
      <div class="slider-container">
        <label for="iframe-width">Iframe Width: <span id="iframe-width-value">1200px</span></label>
        <input type="range" id="iframe-width" min="600" max="1800" value="1200"/>
      </div>
    </div>
    <iframe id="n8n-frame" src="about:blank"></iframe>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.152.0/examples/js/controls/OrbitControls.js"></script>
  <script>
    // Three.js Background Setup
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('threejs-canvas'), alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.position.z = 5;
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
    controls.autoRotate = true;
    controls.autoRotateSpeed = 2;
    const geometry = new THREE.TorusKnotGeometry(1, 0.3, 100, 16);
    const material = new THREE.MeshBasicMaterial({ color: 0xff0080, wireframe: true });
    const mesh = new THREE.Mesh(geometry, material);
    scene.add(mesh);
    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }
    window.addEventListener('resize', onWindowResize);
    function animate() {
      requestAnimationFrame(animate);
      if (mesh) {
        mesh.rotation.x += 0.005;
        mesh.rotation.y += 0.01;
      }
      controls.update();
      renderer.render(scene, camera);
    }
    animate();
    // Theme: restore preference
    const currentTheme = localStorage.getItem('theme') || 'dark';
    if (currentTheme === 'light') document.body.classList.add('light-mode');
    // Theme toggle
    document.getElementById('theme-toggle').addEventListener('click', function() {
      document.body.classList.toggle('light-mode');
      localStorage.setItem('theme', document.body.classList.contains('light-mode') ? 'light' : 'dark');
    });
    const adminBtn = document.getElementById('admin-btn');
    const backBtn = document.getElementById('back-btn');
    const landing = document.getElementById('landing-container');
    const n8n = document.getElementById('n8n-container');
    const n8nFrame = document.getElementById('n8n-frame');
    const resizeControls = document.getElementById('resize-controls');
    const iframeSize = document.getElementById('iframe-size');
    const iframeSizeValue = document.getElementById('iframe-size-value');
    const iframeWidth = document.getElementById('iframe-width');
    const iframeWidthValue = document.getElementById('iframe-width-value');
    function showN8N() {
      // Simply switch visibility without 3D rotate to avoid mirroring
      landing.style.display = 'none';
      n8n.style.display = 'block';
      adminBtn.style.display = 'none';
      backBtn.style.display = 'inline-block';
      resizeControls.style.display = 'flex';
      // Apply slider initial values
      const h = parseInt(iframeSize.value, 10);
      n8nFrame.style.height = h + 'px';
      iframeSizeValue.textContent = h + 'px';
      const w = parseInt(iframeWidth.value, 10);
      n8nFrame.style.width = w + 'px';
      iframeWidthValue.textContent = w + 'px';
    }
    function showLanding() {
      n8n.style.display = 'none';
      landing.style.display = 'block';
      backBtn.style.display = 'none';
      adminBtn.style.display = 'inline-block';
      resizeControls.style.display = 'none';
    }
    adminBtn.addEventListener('click', function(e) { e.preventDefault(); showN8N(); });
    backBtn.addEventListener('click', function(e) { e.preventDefault(); showLanding(); });
    // Resize slider behavior - height
    iframeSize.addEventListener('input', function() {
      const h = parseInt(this.value, 10);
      n8nFrame.style.height = h + 'px';
      iframeSizeValue.textContent = h + 'px';
    });
    // Resize slider behavior - width
    iframeWidth.addEventListener('input', function() {
      const w = parseInt(this.value, 10);
      n8nFrame.style.width = w + 'px';
      iframeWidthValue.textContent = w + 'px';
    });
  </script>
</body>
</html>
